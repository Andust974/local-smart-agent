# Техническое задание: Local Smart Agent → Marketplace Edition

Версия: 1.0 • Дата: 2025-09-09  
Архитектор: AI Domio

---

## 1. Сценарии использования (Use Cases)

- **Фрилансеры / SMB:** локальный ассистент, который помогает собирать аналитику, формировать отчёты и рекомендации.  
- **Корпоративный сегмент:** агент как приватный RAG-бот без интернета, с ограниченным read-only доступом к вебу.  
- **Маркетплейсы (Gumroad, GitHub Marketplace, AWS Marketplace):** продаётся как DevKit с установкой в один клик.  
- **Конечные пользователи:** получают автономного бота, который работает офлайн, генерирует отчёты, архивы, дашборды и подключает модули по бизнес-кейсам.

---

## 2. UI / UX

- **Веб-дашборд:**  
  - панель задач: «Собрать отчёт», «Сделать бандл», «Анализ логов», «Диагностика»;  
  - статус сервисов (ollama, squid, agent, API);  
  - метрики (CPU/RAM/диск).  

- **Tray-агент (Linux/Win):** быстрый доступ: «Запустить задачу», «Открыть отчёт», «Собрать архив».  

- **API-интерфейс:** REST на localhost:  
  - `GET /health` — проверка живости;  
  - `POST /task` — постановка задач;  
  - `GET /reports` — список доступных отчётов.  

---

## 3. Данные / Модели

- **Core модели:** Ollama (llama3, deepseek-coder).  
- **RAG-индекс:** JSONL (локально), поддержка ingest из PDF/HTML/логов.  
- **Дополнительно для ценности:**  
  - PDF → Text (для бухгалтерии/юристов).  
  - OCR модуль (чтение чеков/сканов).  
  - Self-train/LoRA адаптация на локальных документах.  

---

## 4. MVP → Prod

### MVP
- Установка в один клик (bash installer).  
- Ядро агента + skills (web_read, report_pack, dashboard).  
- Локальный API (`task-api.service`).  
- Dashboard c кнопками для базовых операций.  

### Production
- Единый UI (Web + Tray).  
- Бизнес-модули (pdf→text, OCR, SSH whitelist).  
- Prometheus/Grafana встроены.  
- Security: basic-auth, VPN, sandbox для skills.  
- Self-train режим (LoRA) для кастомных данных.  
- Автообновления DevKit через GitHub Release.  

---

## 5. Критерии приёмки

- **Функциональность:** все заявленные skills работают (web, pdf→text, report_pack).  
- **UX:** Dashboard доступен по `http://localhost:8766`, кнопки выполняют задачи.  
- **Безопасность:** агент не делает исходящих POST/PUT; все внешние вызовы read-only.  
- **Инсталляция:** установка одной командой, без ручных патчей.  
- **Документация:** README + Quick Start Guide.  
- **Продажа:** DevKit проходит модерацию на Gumroad/GitHub Marketplace.  
- **Монетизация:** есть платные модули (OCR, LoRA).  

---

## 6. Добавки для увеличения стоимости

- **Бизнес-модули:**  
  - OCR для чеков/счётов;  
  - PDF → структурированные данные;  
  - Автоформирование ZIP-отчётов с подписями.  

- **Управляемость:** дашборд с метриками, алертами и логами.  

- **Безопасность уровня enterprise:** sandbox для skills, ротация токенов, VPN.  

- **Документация / Примеры кейсов:** готовые сценарии применения («анализ логов nginx», «сбор отчётов продаж»).  

Эти дополнения увеличивают ценность x3–x5: агент превращается в готовый корпоративный продукт, а не в «игрушку для энтузиаста».

---

